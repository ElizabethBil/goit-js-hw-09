{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.createElement(\"form\");\nform.className = \"feedback-form\";\nform.autocomplete = \"off\";\nform.innerHTML = `<label>\n    Email\n    <input type=\"email\" name=\"email\" autofocus />\n  </label>\n  <label>\n    Message\n    <textarea name=\"message\" rows=\"8\"></textarea>\n  </label>\n  <button type=\"submit\">Submit</button>`;\n\ndocument.body.appendChild(form);\n\n\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst input = form.querySelector(\"input\");\nconst textarea = form.querySelector(\"textarea\");\n\nlet object = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\nfunction setValue({email, message}) {\n    input.value = email || \"\";\n    textarea.value = message || \"\";\n}\n\n!object ? object = { email: \"\", message: \"\" } : setValue(object);\n\nform.addEventListener('input', e => {\n    const element = e.target.name;\n    const value = e.target.value;\n    object[element] = value;\n\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(object));\n});\n\n    form.addEventListener('submit', e => {\n        e.preventDefault();\n\n    if (input.value && textarea.value) {\n        localStorage.removeItem(\"feedback-form-state\");\n        input.value = '';\n        textarea.value = '';\n\n        console.log(object);\n    } else {\n        alert(\"All fields should be filled in\");\n    }\n});\n"],"names":["form","STORAGE_KEY","input","textarea","object","setValue","email","message","e","element","value"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,UAAY,gBACjBA,EAAK,aAAe,MACpBA,EAAK,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAUjB,SAAS,KAAK,YAAYA,CAAI,EAG9B,MAAMC,EAAc,sBAEdC,EAAQF,EAAK,cAAc,OAAO,EAClCG,EAAWH,EAAK,cAAc,UAAU,EAE9C,IAAII,EAAS,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,GAAK,GAE9D,SAASI,EAAS,CAAC,MAAAC,EAAO,QAAAC,CAAO,EAAG,CAChCL,EAAM,MAAQI,GAAS,GACvBH,EAAS,MAAQI,GAAW,EAChC,CAECH,EAA+CC,EAASD,CAAM,EAArDA,EAAS,CAAE,MAAO,GAAI,QAAS,EAAI,EAE7CJ,EAAK,iBAAiB,QAASQ,GAAK,CAChC,MAAMC,EAAUD,EAAE,OAAO,KACnBE,EAAQF,EAAE,OAAO,MACvBJ,EAAOK,GAAWC,EAElB,aAAa,QAAQ,sBAAuB,KAAK,UAAUN,CAAM,CAAC,CACtE,CAAC,EAEGJ,EAAK,iBAAiB,SAAUQ,GAAK,CACjCA,EAAE,eAAc,EAEhBN,EAAM,OAASC,EAAS,OACxB,aAAa,WAAW,qBAAqB,EAC7CD,EAAM,MAAQ,GACdC,EAAS,MAAQ,GAEjB,QAAQ,IAAIC,CAAM,GAElB,MAAM,gCAAgC,CAE9C,CAAC"}