{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const form = document.createElement(\"form\");\n// form.className = \"feedback-form\";\n// form.autocomplete = \"off\";\n// form.innerHTML = `<label>\n//     Email\n//     <input type=\"email\" name=\"email\" autofocus />\n//   </label>\n//   <label>\n//     Message\n//     <textarea name=\"message\" rows=\"8\"></textarea>\n//   </label>\n//   <button type=\"submit\">Submit</button>`;\n\n// document.body.appendChild(form);\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\n\nlet object = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\nfunction setValue({ email, message }) {\n  input.value = email || '';\n  textarea.value = message || '';\n}\n\n!object ? (object = { email: '', message: '' }) : setValue(object);\n\nform.addEventListener('input', e => {\n  const element = e.target.name;\n  const value = e.target.value;\n  object[element] = value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(object));\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (input.value.trim() && textarea.value.trim()) {\n    localStorage.removeItem('feedback-form-state');\n    input.value = '';\n    textarea.value = '';\n\n    console.log(object);\n  } else {\n    alert('All fields should be filled in');\n  }\n});\n"],"names":["STORAGE_KEY","input","textarea","object","setValue","email","message","element","value"],"mappings":"oCAeA,MAAMA,EAAc,sBAEdC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAElD,IAAIC,EAAS,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,GAAK,GAE9D,SAASI,EAAS,CAAE,MAAAC,EAAO,QAAAC,GAAW,CACpCL,EAAM,MAAQI,GAAS,GACvBH,EAAS,MAAQI,GAAW,EAC9B,CAECH,EAAiDC,EAASD,CAAM,EAAtDA,EAAS,CAAE,MAAO,GAAI,QAAS,EAAI,EAE9C,KAAK,iBAAiB,QAAS,GAAK,CAClC,MAAMI,EAAU,EAAE,OAAO,KACnBC,EAAQ,EAAE,OAAO,MACvBL,EAAOI,GAAWC,EAElB,aAAa,QAAQ,sBAAuB,KAAK,UAAUL,CAAM,CAAC,CACpE,CAAC,EAED,KAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEZF,EAAM,MAAM,KAAI,GAAMC,EAAS,MAAM,QACvC,aAAa,WAAW,qBAAqB,EAC7CD,EAAM,MAAQ,GACdC,EAAS,MAAQ,GAEjB,QAAQ,IAAIC,CAAM,GAElB,MAAM,gCAAgC,CAE1C,CAAC"}